# 见缝插针小游戏 - 项目架构设计

## 技术栈选择

### 后端服务
- **框架**: Python FastAPI
- **数据库**: MySQL 8.0
- **ORM**: SQLAlchemy
- **认证**: JWT Token
- **文件存储**: 本地存储 + 阿里云OSS（可选）
- **缓存**: Redis

### 管理后台
- **框架**: FastAPI + Jinja2 模板
- **前端**: Bootstrap 5 + jQuery
- **图表**: Chart.js

### Android客户端
- **开发语言**: Java/Kotlin
- **网络请求**: Retrofit2 + OkHttp
- **视频播放**: ExoPlayer
- **数据存储**: SharedPreferences + Room

## 系统架构图

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   Android App   │    │  Python Backend │    │  Admin Panel    │
│                 │    │                 │    │                 │
│ - 游戏逻辑      │◄──►│ - FastAPI       │◄──►│ - 后台管理      │
│ - 广告播放      │    │ - SQLAlchemy    │    │ - 数据统计      │
│ - 金币系统      │    │ - JWT认证       │    │ - 广告管理      │
│ - 提现申请      │    │ - 业务逻辑      │    │ - 用户管理      │
└─────────────────┘    └─────────────────┘    └─────────────────┘
                              │
                              ▼
                       ┌─────────────────┐
                       │     MySQL       │
                       │   + Redis       │
                       └─────────────────┘
```

## 核心功能模块

### 1. 用户系统
- 用户注册/登录
- 设备唯一标识
- 用户等级/经验
- 游戏统计

### 2. 广告系统
- 自定义视频广告管理
- 广告播放记录
- 每日广告次数限制
- 广告奖励发放

### 3. 金币系统
- 金币获取/消费记录
- 汇率配置管理
- 提现申请/审核
- 余额管理

### 4. 游戏系统
- 游戏分数记录
- 排行榜
- 成就系统

## 开发优势

1. **FastAPI**: 自动生成API文档，开发效率高
2. **SQLAlchemy**: 强大的ORM，数据库操作简单
3. **模块化设计**: 易于维护和扩展
4. **统一的JSON API**: 前后端分离，接口清晰
5. **内置管理后台**: 快速实现运营需求 