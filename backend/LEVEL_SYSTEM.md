# 等级系统说明文档

## 📊 等级系统概览

本系统采用**40级**等级制度，分为10个段位，每个段位通常包含3个小等级。

### 等级分布

| 等级范围 | 段位名称 | 经验值范围 | 广告倍数 | 游戏倍数 |
|---------|---------|-----------|---------|---------|
| 1-3级 | 新手 | 0 - 4,499 | 1.0x - 1.2x | 1.0x - 1.1x |
| 4-6级 | 青铜 | 4,500 - 13,999 | 1.3x - 1.5x | 1.15x - 1.25x |
| 7-9级 | 白银 | 14,000 - 32,999 | 1.6x - 1.8x | 1.3x - 1.4x |
| 10-12级 | 黄金 | 33,000 - 69,999 | 2.0x - 2.2x | 1.5x - 1.6x |
| 13-15级 | 铂金 | 70,000 - 136,999 | 2.3x - 2.5x | 1.65x - 1.75x |
| 16-18级 | 钻石 | 137,000 - 259,999 | 2.6x - 2.8x | 1.8x - 1.9x |
| 19-21级 | 大师 | 260,000 - 469,999 | 2.9x - 3.2x | 1.95x - 2.1x |
| 22-24级 | 宗师 | 470,000 - 769,999 | 3.4x - 3.8x | 2.2x - 2.4x |
| 25-30级 | 王者/至尊 | 770,000 - 1,849,999 | 4.0x - 5.0x | 2.5x - 3.0x |
| 31-36级 | 传说/神话 | 1,850,000 - 3,859,999 | 5.3x - 6.8x | 3.15x - 3.9x |
| 37-39级 | 荣耀 | 3,860,000 - 5,329,999 | 7.2x - 8.0x | 4.1x - 4.5x |
| 40级 | 终极王者 | 5,330,000+ | 10.0x | 5.0x |

## 🎯 详细等级配置

### 1-10级：新手阶段

```
等级1  新手I      经验0-999        广告1.00倍  游戏1.00倍
等级2  新手II     经验1000-2499    广告1.10倍  游戏1.05倍
等级3  新手III    经验2500-4499    广告1.20倍  游戏1.10倍
等级4  青铜I      经验4500-6999    广告1.30倍  游戏1.15倍
等级5  青铜II     经验7000-9999    广告1.40倍  游戏1.20倍
等级6  青铜III    经验10000-13999  广告1.50倍  游戏1.25倍
等级7  白银I      经验14000-18999  广告1.60倍  游戏1.30倍
等级8  白银II     经验19000-24999  广告1.70倍  游戏1.35倍
等级9  白银III    经验25000-32999  广告1.80倍  游戏1.40倍
等级10 黄金I      经验33000-42999  广告2.00倍  游戏1.50倍
```

### 11-20级：进阶阶段

```
等级11 黄金II     经验43000-54999    广告2.10倍  游戏1.55倍
等级12 黄金III    经验55000-69999    广告2.20倍  游戏1.60倍
等级13 铂金I      经验70000-87999    广告2.30倍  游戏1.65倍
等级14 铂金II     经验88000-109999   广告2.40倍  游戏1.70倍
等级15 铂金III    经验110000-136999  广告2.50倍  游戏1.75倍
等级16 钻石I      经验137000-169999  广告2.60倍  游戏1.80倍
等级17 钻石II     经验170000-209999  广告2.70倍  游戏1.85倍
等级18 钻石III    经验210000-259999  广告2.80倍  游戏1.90倍
等级19 大师I      经验260000-319999  广告2.90倍  游戏1.95倍
等级20 大师II     经验320000-389999  广告3.00倍  游戏2.00倍
```

### 21-30级：专家阶段

```
等级21 大师III    经验390000-469999    广告3.20倍  游戏2.10倍
等级22 宗师I      经验470000-559999    广告3.40倍  游戏2.20倍
等级23 宗师II     经验560000-659999    广告3.60倍  游戏2.30倍
等级24 宗师III    经验660000-769999    广告3.80倍  游戏2.40倍
等级25 王者I      经验770000-899999    广告4.00倍  游戏2.50倍
等级26 王者II     经验900000-1049999   广告4.20倍  游戏2.60倍
等级27 王者III    经验1050000-1219999  广告4.40倍  游戏2.70倍
等级28 至尊I      经验1220000-1409999  广告4.60倍  游戏2.80倍
等级29 至尊II     经验1410000-1619999  广告4.80倍  游戏2.90倍
等级30 至尊III    经验1620000-1849999  广告5.00倍  游戏3.00倍
```

### 31-40级：传说阶段

```
等级31 传说I      经验1850000-2109999  广告5.30倍  游戏3.15倍
等级32 传说II     经验2110000-2399999  广告5.60倍  游戏3.30倍
等级33 传说III    经验2400000-2719999  广告5.90倍  游戏3.45倍
等级34 神话I      经验2720000-3069999  广告6.20倍  游戏3.60倍
等级35 神话II     经验3070000-3449999  广告6.50倍  游戏3.75倍
等级36 神话III    经验3450000-3859999  广告6.80倍  游戏3.90倍
等级37 荣耀I      经验3860000-4309999  广告7.20倍  游戏4.10倍
等级38 荣耀II     经验4310000-4799999  广告7.60倍  游戏4.30倍
等级39 荣耀III    经验4800000-5329999  广告8.00倍  游戏4.50倍
等级40 终极王者   经验5330000+         广告10.00倍 游戏5.00倍
```

## 🔧 升级说明

### 方法1：使用升级脚本（推荐）

```bash
cd backend
python upgrade_levels.py
```

这个脚本会：
1. 检查当前等级配置
2. 清除旧的7级系统
3. 初始化新的40级系统
4. 验证升级结果

### 方法2：手动升级

1. 进入管理后台
2. 进入等级管理页面
3. 删除所有现有等级（如果有）
4. 重启后端服务，系统会自动初始化40级系统

### 方法3：数据库直接操作

```sql
-- 清空等级表
TRUNCATE TABLE user_level_configs;

-- 重启服务后会自动初始化
```

## 📈 设计理念

### 经验值递增规律

- **1-10级**：经验需求缓慢增长，让新手快速体验升级乐趣
- **11-20级**：经验需求稳定增长，保持玩家粘性
- **21-30级**：经验需求加速增长，增加挑战性
- **31-40级**：经验需求大幅增长，体现顶级荣耀的稀缺性

### 倍数增长规律

- **广告金币倍数**：从1.0倍逐步增长到10.0倍（最高增益900%）
- **游戏金币倍数**：从1.0倍逐步增长到5.0倍（最高增益400%）
- **增长策略**：前期增长快，中期稳定，后期加速

### 平衡性考虑

- 每10级为一个大阶段，玩家能清晰感受到进度
- 最终等级（40级）给予超高倍数奖励，激励玩家长期游玩
- 广告倍数高于游戏倍数，鼓励观看广告但不过分削弱游戏价值

## 🎮 使用建议

### 用户留存

- 设置每日签到奖励经验值
- 完成任务获得额外经验
- 连续登录获得经验加成

### 收益优化

- 适当调整基础广告金币数量，配合高等级倍数
- 设置每日观看上限，防止过度刷取
- 结合游戏难度和等级匹配

### 活动运营

- 双倍经验周末活动
- 限时等级冲刺赛
- 等级段位奖励礼包

## ⚠️ 注意事项

1. **升级前备份**：建议升级前备份数据库
2. **用户影响**：现有用户的等级不会改变，但会根据新经验值范围重新匹配对应等级
3. **倍数生效**：新倍数立即生效，影响所有用户的奖励计算
4. **不可回退**：升级后无法自动回退到7级系统

## 📞 技术支持

如遇问题，请检查：
1. 数据库连接是否正常
2. `user_level_configs` 表是否存在
3. 后端日志中的错误信息

---

**等级系统版本**: 40级完整版
**最后更新**: 2025-01-01
